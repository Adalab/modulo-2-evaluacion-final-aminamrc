const a=document.querySelector(".js-inputAnime"),g=document.querySelector(".js-btn"),f=document.querySelector(".js-reset"),m=document.querySelector(".js-results");document.querySelector(".js-anime-list");const r=document.querySelector(".js-favorites");document.querySelector(".js-favorite-list");a.value;let c=[];function p(){fetch(`https://api.jikan.moe/v4/anime?q=${a.value}`).then(e=>e.json()).then(e=>{c=e.data,u(c,m)})}function u(e,i){let t="";for(const o of e){let s=o.title,n=o.images.jpg.image_url;t+=`<li class="list_anime js-anime-selected " id="${o.mal_id}"> `,n==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(n="https://placehold.co/250x250"),t+=`<img src=" ${n}" alt="img"> </img> `,t+=` <p> ${s} </p>`,t+="</li>"}i.innerHTML=t,y()}function d(e,i){let t="";for(const o of e){let s=o.title,n=o.images.jpg.image_url;t+=`<li class="list_anime js-anime-selected favorite-style" id="${o.mal_id}"> `,n==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(n="https://placehold.co/250x250"),t+=`<img src=" ${n}" alt="img"> </img> `,t+=` <p> ${s} </p>`,t+='<button type="reset" class="btn-style js-btn-remove"> X </button>',t+="</li>",i.innerHTML=t}v()}function v(){const e=document.querySelectorAll(".js-btn-remove");for(const i of e)i.addEventListener("click",A),console.log("clicked remove")}function A(e){console.log("clicked");const i=e.currentTarget.id,t=parseInt(i);console.log(i);const o=c.find(n=>t===n.mal_id);console.log(o);const s=l.findIndex(n=>n.mal_id===t);console.log(s),s===-1&&l.splice(s,1),d(l,r),localStorage.setItem("anime",JSON.stringify(l))}g.addEventListener("click",S);function S(e){e.preventDefault(),console.log(a.value),p()}let l=[];function h(e){const i=e.currentTarget.id,t=parseInt(i);console.log(i);const o=c.find(n=>t===n.mal_id);console.log(o);const s=l.findIndex(n=>n.mal_id===t);console.log(s),s===-1&&l.push(o),localStorage.setItem("anime",JSON.stringify(l)),d(l,r),u(c,m)}function y(){const e=document.querySelectorAll(".js-anime-selected");for(const i of e)i.addEventListener("click",h),console.log("cliked")}function j(){const e=JSON.parse(localStorage.getItem(l));e!==null&&(l=e,d(e,r))}j();f.addEventListener("click",L);function L(){l=[],m.innerHTML="",r.innerHTML="",a.value="",localStorage.setItem("anime",JSON.stringify())}
//# sourceMappingURL=main.js.map
